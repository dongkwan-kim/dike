{% extends 'base.html' %}

{% block content %}
<ul class="pagination">
        <li class="waves-effect disabled"><a href="#!">나누기</a></li>
        <li class="active"><a href="#!">다듬기</a></li>
        <li class="waves-effect disabled"><a href="#!">연결하기</a></li>
        <li class="waves-effect disabled"><a href="#!">교정하기</a></li>
    </ul>
    <div class="card-panel teal">
        <span class="white-text">
            잘려져있는 단어들을 완성된 문장으로 바꿔주세요
        </span>
    </div>
    <div id="app">
        <polish-component :splittedsentences="splittedSentence"></polish-component>
    </div>

{% verbatim %}
<template id="polish-template">
<div>
    <div v-for="p in phrases" class="row">
        <div class="col s6 original">
            <span>{{p.before}}</span>
        </div>
        <div class="input-field col s6">
            <textarea class="materialize-textarea" v-model="p.after"></textarea>
        </div>
    </div>

    <button class="btn waves-effect waves-light" type="submit" name="action" v-on:click="submit()">Submit
            <i class="material-icons right">send</i>
    </button>
</div>
</template>
{% endverbatim %}

<style>
.row .original {
    margin-top: 28px;
}
</style>

<script src="/static/js/constants.js"></script>
<script>
var Polisher = {
    template: '#polish-template',
    props: { splittedsentences: Object },
    data: function() {
        return {
            phrases: this.splittedsentences.phrases.map(p => ({
                before: p,
                after: p
            }))
        }
    }
}

new Vue({
    el: '#app',
    components: { 'polish-component': Polisher },
    data: { splittedSentence: sampleSplittedSentence},
})

</script>
{% endblock %}
